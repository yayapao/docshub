---
id: concept
title: TypeScript Concept
sidebar_label: concept
slug: concept
---

ğŸŒ¼ We encourage the use of `--strictNullChecks` when possible!

## DataTypes

åœ¨ `JavaScript` å†…ï¼Œå·²ç»æä¾›äº†ä¸€äº›åŸå§‹ç±»å‹ï¼š`boolean`, `bigint`, `null`, `number`, `string`, `symbol`, `object` å’Œ `undefined`

åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ`TypeScript` æ‰©å±•äº†è¿™ä¸ªåˆ—è¡¨ï¼š

- `any` allow anything
- `unkonwn`
  - like you can't predict the user input
  - ç”¨æ¥é€šçŸ¥ç¼–è¯‘å™¨å’Œæœªæ¥çš„è¯»è€…ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥æ˜¯ä»»æ„ç±»å‹
  - å¦‚æœä½ ä½¿ç”¨äº†ä¸€ä¸ªè¯¥ç±»å‹çš„å˜é‡ï¼Œä½ å¯ä»¥é€šè¿‡ç±»å‹åˆ¤æ–­æ¥è¿›è¡Œå¤„ç†
- `never` it's not possible that this type could happen
- `void` a function which returns undefined or has no return value

åŒæ—¶ï¼ŒTypeScript æä¾›äº†

1. `interface` å’Œ `type` ä¸¤ç§è¯­æ³•æ¥åˆ›å»ºè‡ªå®šä¹‰çš„ type
2. `union` å’Œ `generics(èŒƒå‹)` æ¥åˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„
3. `as` é€šè¿‡æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨ `trust me, I know what Iâ€™m doing.`

æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå¯¹ä¸€äº›æ¦‚å¿µè¿›è¡Œé€‰æ‹©æ€§åœ°ä»‹ç»ï¼Œä¹Ÿè®¸åœ¨å·¥ä½œä¸­ä½ å·²ç»æŒæ¡äº†å®ƒçš„ä½¿ç”¨æ–¹æ³•ï¼Œä½†æ˜¯ä½ å¹¶ä¸æ¸…æ¥šå®ƒçš„å®šä¹‰

### Tuple

`Tuple` å…è®¸ä½ å£°æ˜ä¸€ä¸ªå…·æœ‰ç‰¹å®šé¡ºåºå’Œæ•°é‡çš„ç±»å‹æ•°ç»„ï¼Œè¿™æ„å‘³ç€ä½ å¿…é¡»æŒ‰ç…§ç‰¹å®šé¡ºåºå’Œç±»å‹æ¥è¿›è¡Œå–å€¼å’Œèµ‹å€¼æ“ä½œ

```typescript
let t: [string, number] = ['hello', 1]
// error: Type 'number' is not assignable to type 'string'.(2322)
t = [1, 'world']
```

### Union

For example like below:

```typescript
// define a complex datatype
function testType(value: string | string[]) {
  if (typeof value === 'string') {
    // statement
  } else if (Array.isArray(value)) {
    // statement
  }
}
```

### Generics

For example, we define a generics like below:

```typescript
interface GenericTest<Value> {
  get: () => Value
  set: (type: Value) => void
}

const gen: Generic<string> = {}
```

## Interface

> In JavaScript, some design patterns make it difficult for types to be inferred automatically.

To cover this case, TypeScript supports an extension of the JavaScript language, which offers places for you to tell TypeScript what the types should be.

å°±åƒåœ¨ Go å†… `interface` çš„è¯­ä¹‰ä¸€æ ·ï¼Œ`interface` æä¾›äº†**ç±»ä¼¼å¤šæ€**çš„ç±»å‹éªŒè¯

Typescript å†…çš„ä¸€ä¸ªæ ¸å¿ƒæ³•åˆ™å°±æ˜¯ï¼šç±»å‹æ£€æŸ¥ä¸“æ³¨äºå€¼å…·æœ‰çš„ç±»å‹ï¼Œç±»ä¼¼ `duck typing` çš„æ¦‚å¿µï¼Œâ€œå¦‚æœå®ƒèµ°è·¯åƒé¸­å­ï¼Œå«çš„åƒé¸­å­ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­â€

`interface` ä½œä¸º TypeScript æ–°è®¾è®¡çš„ç±»å‹ï¼Œå®ƒå¯ä»¥ç”¨æ¥æè¿° JavaScript å†…ä¸°å¯Œä¸”çµæ´»çš„ç±»å‹ï¼Œä¸ºæ­¤ï¼Œå®ƒæä¾›äº†ä¸€äº›å¾ˆæ£’çš„ç‰¹æ€§ï¼š

1. **readonly**
   - ä¸€äº›å±æ€§åªæœ‰åœ¨åˆ›å»ºçš„æ—¶å€™æ‰èƒ½å¤Ÿè¢«ä¿®æ”¹ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ `readonly` æ¥å®ç°ï¼ŒåŒæ—¶ `TypeScript` æä¾› `ReadonlyArray<T>` ç±»å‹æ¥å¤„ç†ä¸å¯å˜æ•°ç»„
   - ğŸŒ¼ï¼šå£°æ˜**ä¸å¯å˜å±æ€§**æ—¶ï¼Œä½¿ç”¨ `readonly` ï¼Œå½“å£°æ˜ä¸€ä¸ª**ä¸å¯å˜å˜é‡**æ—¶ï¼Œä½¿ç”¨ `const`
2. **è¿‡å¤šå±æ€§æ£€æŸ¥**
   - ä¼ é€’çš„å±æ€§å†…å«æœ‰ `interface` å†…æœªå®šä¹‰çš„å±æ€§åˆ™ä¼šè§¦å‘ TypeScript å†…çš„è¿‡å¤šå±æ€§æ£€æŸ¥ï¼Œå³å¯¹ä¼ é€’å±æ€§çš„æ•°é‡ã€ç±»å‹ï¼ˆä¸åŒ…æ‹¬é¡ºåºï¼‰è¿›è¡Œæ£€æŸ¥
   - é¦–é€‰çš„è§£å†³æ–¹æ¡ˆï¼šTypeScript æä¾›äº†ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆ `[propname: string]:any` æ¥å…è®¸ä»»æ„é”®å€¼å¯¹
   - åŒæ—¶ï¼Œé€šè¿‡æ–­è¨€ä¹Ÿå¯ä»¥æ¥ç»•è¿‡è¿™ç§ç±»å‹æ£€æŸ¥ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ç§æ¯”è¾ƒ hack æ–¹æ³•ï¼Œå°†å€¼èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å˜é‡æ¥è¿›è¡Œä¼ é€’ä¹Ÿå¯ä»¥å¯¹è¯¥ç±»å‹æ£€æŸ¥è¿›è¡Œè§„é¿
   - æ­¤å¤–ï¼Œ`[index: number]: string` å¯ä»¥ç”¨æ¥è¡¨ç¤ºå¯ç´¢å¼•ç±»å‹ï¼Œä½ åº”è¯¥ç†Ÿæ‚‰ `index` ç­¾åæ¨¡å¼ï¼Œå®ƒåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç¡®å®èƒ½å¤Ÿå¸¦æ¥å¾ˆå¤šä¾¿åˆ©
3. ä¸€ä¸ª `interface` å¯ä»¥é€šè¿‡ `extends` å…³é”®å­—æ¥å»¶ä¼¸**å¤šä¸ª** `interface`ï¼Œæ¯”å¦‚ `interface A extends B,C {}`

## Functions

> TypeScript also adds some new capabilities to the standard JavaScript functions to make them easier to work with.

TypeScript æä¾›äº†ä¸¤ç§æ–¹å¼æ¥æ”¯æŒ `Function` ç±»å‹æ£€æŸ¥

1. ä¸ºæ¯ä¸ªå‚æ•°æ·»åŠ ç±»å‹ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªç±»å‹

```typescript
const add = (x: number, y: number): number {
  return x + y
}
```

2. ç¼–å†™ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œæ­¤æ—¶å¿…é¡»é€šè¿‡ `=>` æ¥æŒ‡å®š `return` ç±»å‹

```typescript
const add: (x: number, y: number) => number = (x: number, y: number) {
  return x + y
}
```

### å½¢å‚

åœ¨ TypeScript ä¸­ï¼Œä¼šé»˜è®¤æ£€æŸ¥æ¯ä¸€ä¸ªå½¢å‚ã€‚è¿™ç‚¹å¾ˆæ˜æ˜¾ä¸åŒäº JavaScriptï¼Œåœ¨ JavaScript å†…ï¼Œä½ å¯ä»¥ä¼ é€’ä»»æ„å±æ€§çš„å½¢å‚ï¼Œå¯¹äºå‡½æ•°å†…æœªå®šä¹‰çš„å½¢å‚ï¼Œä¼šè¢«èµ‹å€¼ä¸º `undefined`

åœ¨ TypeScript å†…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `?` å…³é”®å­— ã€é»˜è®¤å€¼ä»¥åŠ Rest Parametersï¼ˆå¯ä»¥çœ‹ä½œæ˜¯æ— é™æ•°é‡çš„å¯é€‰å‚æ•°ï¼‰ æ¥è¿›è¡Œæ›´åŠ çµæ´»çš„é…ç½®ï¼Œä½†æ˜¯æœ‰ä¸€äº›ç‚¹éœ€è¦æ³¨æ„ï¼š

- ä¸€èˆ¬å°† `?` è¡¨ç¤ºçš„å¯é€‰å‚æ•°æ”¾åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å
- é»˜è®¤å€¼å‚æ•°å¯ä»¥æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„ä»»æ„ä½ç½®ï¼Œä¼ å‚æ—¶é€šè¿‡ `undefined` è¿›è¡Œå ä½
- åœ¨ JavaScript å†…ï¼Œå¯ä»¥é€šè¿‡ `arguments` æ¥è·å–ä¼ å‚ï¼ŒTypeScript åŒæ ·æä¾›è¿™æ ·çš„èƒ½åŠ›ï¼Œå³é€šè¿‡ `(...restOfName: string[])` è¿™ç§æ¨¡å¼ï¼Œå¯ä»¥æ”¶é›†é‚£äº›å‰©ä½™å‚æ•°åˆ°ä¸€ä¸ªå˜é‡å†…

### å…³äº this

> Arrow functions capture the `this` where the function is created rather than where it is invoked

åœ¨ TypeScript å†…ï¼Œå¯ä»¥å¼€å¯ `--noImplictThis` æ¥é€šçŸ¥ç¼–è¯‘å™¨å»æ£€æŸ¥ `this` åœ¨å®šä¹‰æ—¶å¯èƒ½å‡ºç°çš„é—®é¢˜

å¦‚æœæ²¡æœ‰æ˜¾ç¤ºåœ°å®šä¹‰ `this` ç±»å‹ï¼Œä¼šé»˜è®¤å…¶ç±»å‹ä¸º `any`ï¼Œå› æ­¤ä½ å¯ä»¥é€šè¿‡æ˜¾ç¤ºåœ°å®šä¹‰ `this` çš„ç±»å‹æ¥é¿å…ä¸€äº›é”™è¯¯

```typescript
interface Demo {
  name: string
  setName(this: Demo): () => void
}
```

### overloads

ä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§ï¼Œç”±äº JavaScript æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç›¸å½“åŠ¨æ€çš„è¯­è¨€ï¼Œå› æ­¤ä¸€ä¸ªå‡½æ•°é€šå¸¸å¯ä»¥æ¥å—ä¸åŒç±»å‹çš„å‚æ•°å¹¶ä¸”è¾“å‡ºä¸åŒç±»å‹çš„ç»“æœ

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¦‚ä½•ä¸ºå‡½æ•°æ·»åŠ ç±»å‹éªŒè¯å‘¢ï¼Ÿæ¥çœ‹ä¸€ä¸ªå®˜ç½‘çš„ä¾‹å­ï¼š

```typescript
// these two are overloads
function pickCard(x: { suit: string; card: number }[]): number
function pickCard(x: number): { suit: string; card: number }
// this not the overload
function pickCard(x: any): any {
  // Check to see if we're working with an object/array
  // if so, they gave us the deck and we'll pick the card
  if (typeof x == 'object') {
    let pickedCard = Math.floor(Math.random() * x.length)
    return pickedCard
  }
  // Otherwise just let them pick the card
  else if (typeof x == 'number') {
    let pickedSuit = Math.floor(x / 13)
    return { suit: suits[pickedSuit], card: x % 13 }
  }
}
```

ç¼–è¯‘å™¨ä¼šæ ¹æ®é¡ºåºä¾æ¬¡è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤ï¼Œé€šå¸¸å°†å¤æ‚çš„ overloads æ”¾åœ¨å‰é¢

## Union

ä¸ªäººè®¤ä¸ºï¼Œ`union` æ˜¯ TypeScript å†…ä¸€ä¸ªéå¸¸æ£’çš„ç‰¹æ€§ï¼Œå®ƒæä¾›äº†æå¤§çš„ä¾¿åˆ©æ€§å’Œå…¼å®¹æ€§ï¼Œåœ¨å­¦ä¹ å®˜æ–¹æ–‡æ¡£çš„æ—¶å€™ï¼Œå®ƒçš„ä¸€ä¸ªç‰¹æ€§è®©æˆ‘å¯¹å®ƒæœ‰äº†æ›´å¤šçš„æƒ³è±¡ï¼Œå®ƒå°±æ˜¯ `Discriminating Unions`

- è¿™é‡Œæ’ä¸€å¥ï¼ŒTypeScript åŒæ ·æä¾› `&` å…³é”®å­—ï¼ˆ**An intersection type combines multiple types into one**ï¼‰æ¥å¯¹å¤šä¸ªç±»å‹è¿›è¡Œåˆå¹¶æ“ä½œ

```typescript
interface TestA {
  name: 'a'
  age: number
}

interface TestB {
  name: 'b'
  surname: string
}

interface TestC {
  name: 'c'
  height: number
}

type Person = TestA | TestB | TestC

function testPerson(data: Person) {
  // Property 'age' does not exist on type 'Person'.
  // Property 'age' does not exist on type 'TestB'.(2339)
  console.log(data.age)

  // æˆ‘ä»¬å¯ä»¥åˆ©ç”¨**æ–‡æœ¬ç±»å‹**æ¥è¿›è¡Œåˆ¤æ–­
  switch (data.name) {
    case 'a': {
      console.log(data.age)
      break
    }
    case 'b': {
      console.log(data.surname)
      break
    }
    case 'c': {
      console.log(data.height)
      break
    }
  }
}
```

## Classes

> A class declaration creates two things: a type representing instances of the class and a constructor function!

å¦‚æœä½ åŒçƒ¦äº†åœ¨ JavaScript å†…é€šè¿‡å‡½æ•°å’ŒåŸå‹çš„æ–¹å¼æ¥åˆ›å»ºç»„ä»¶ï¼Œé‚£ä¹ˆé€šè¿‡ç±»æ¥åˆ›å»ºæ˜¯ä¸€ä¸ªä¸é”™çš„å°è¯•ï¼

æˆ‘ä»¬å…ˆä»ä¸€ä¸ª[ç®€å•çš„ä¾‹å­](https://github.com/Y-lonelY/study-typescript/blob/master/classes/define.ts)å¼€å§‹

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ï¼š

- å‰ç½®æˆå‘˜å˜é‡ï¼Œè¡¨ç¤ºå…¶æœ‰æˆå‘˜è®¿é—®æƒé™
- åœ¨ TypeScript å†…ï¼Œåœ¨è°ƒç”¨ constructor å†…çš„å…¶ä»–å±æ€§ä¹‹å‰ï¼Œå¿…é¡»**å¼ºåˆ¶æ‰§è¡Œ** `super()` æ–¹æ³•

Class åœ¨è¢«å£°æ˜æ—¶ä¼šäº§ç”Ÿä¸¤ä¸ªåŠ¨ä½œï¼š

1. åˆ›å»ºä¸€ä¸ªä»£è¡¨ç±»å®ä¾‹çš„ç±»å‹ï¼Œå› æ­¤å¯ä»¥æ”¯æŒ `interface extends classes` çš„å†™æ³•
2. åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°

### æˆå‘˜å±æ€§

å’Œå…¶ä»–å¼ºç±»å‹è¯­è¨€ä¸€é¡¹ï¼ŒTypeScript å†…çš„ç±»ä¹Ÿå…·æœ‰æˆå‘˜å±æ€§çš„æ¦‚å¿µï¼Œå®ƒæä¾› `public`ã€`private`ã€ `proteced` ä»¥åŠ `readonly` ï¼Œé»˜è®¤ä¸º `public`

è¿™é‡Œæ¯”è¾ƒç‰¹æ®Šçš„æ˜¯ `private`ï¼ŒTypeScript æ—¢æ”¯æŒ ECMAScript çš„è¯­æ³•ï¼ˆ`#`ï¼‰ä¹Ÿæœ‰è‡ªå·±çš„è¯­æ³•ï¼ˆ`private`ï¼‰

- ç›¸è¾ƒä¹‹ä¸‹ï¼Œ`#` çš„å†™æ³•å†…ç½®åœ¨ JavaScript çš„ runtimeï¼Œå› æ­¤å®ƒèƒ½å¤Ÿæ›´å¥½åœ°ä¿è¯ç§æœ‰å­—æ®µçš„éš”ç¦»
- `private` çš„ç‰¹ç‚¹åœ¨äºï¼Œå³ä½¿ä¸¤ä¸ªç±»ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯åªè¦åŒ…å« `private` å­—æ®µï¼Œåˆ™å®ƒä»¬åœ¨ç±»å‹åˆ¤å®šä¸Šæ˜¯ä¸ç›¸ç­‰çš„ï¼Œå‚è€ƒ [Y-lonelY/private](https://github.com/Y-lonelY/study-typescript/blob/master/classes/private.ts) è¿›è¡Œç†è§£

å…³äº `protected` æ€»ç»“äº†ä¸€äº›ç‚¹ï¼Œå…·æœ‰å¯ä»¥å‚è€ƒ [understanding-protected)](https://www.typescriptlang.org/docs/handbook/classes.html#understanding-protected) æ¥è¿›è¡Œç†è§£

- çˆ¶ç±»å†…å®šä¹‰çš„ `protected` å±æ€§ï¼Œå¯ä»¥åœ¨å…¶å­ç±»ä¸­è¿›è¡Œè®¿é—®ï¼Œä½†æ˜¯å…¶å®ä¾‹ï¼ˆå­ç±»å’Œçˆ¶ç±»çš„å®ä¾‹ï¼‰ä¸èƒ½è®¿é—®
- å¦‚æœå¯¹çˆ¶ç±»çš„æ„é€ å‡½æ•°æ·»åŠ  `protected` æ ‡å¿—ç¬¦ï¼Œåˆ™ä¸èƒ½å°†å…¶è¿›è¡Œå®ä¾‹åŒ–

## Common Utility

- `Partial<Type>` && `Required<Type>`
- `ReadOnly<Type>`
- `Pick<Type>` && `Omit<Type>`

è¿™é‡Œæˆ‘å°†ä»¥ä¸Š Utility Types æ”¾åœ¨ä¸€èµ·ï¼Œæ˜¯å› ä¸ºå®ƒä»¬æœ‰ç›¸ä¼¼çš„è¡Œä¸ºï¼Œå³ä¼ å…¥ä¸€ä¸ª**ç±»å‹å®šä¹‰**ï¼Œè¿”å›ä¸€ä¸ª**æ–°çš„ç±»å‹å®šä¹‰**ï¼Œæ–°çš„å®šä¹‰ç±»å‹ä¼šåŸºäºåŸç±»å‹çš„å±æ€§è¿›è¡Œæ›´æ”¹

![common utility](/img/langs/typescript/commonUtility.png)

1. `Partial<Type>`ï¼Œè‹±è¯‘ä¸º**éƒ¨åˆ†çš„**ï¼Œç”¨æ¥å°† `Type` å†…æ‰€æœ‰çš„å±æ€§è½¬æ¢ä¸ºå¯é€‰ç±»å‹ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œæ›´é€šä¿—çš„è§£é‡Šå°±æ˜¯ï¼šè¿”å›ç»™å®š `Type` çš„æ‰€æœ‰å­é›†
2. `Required<Type>` è¡Œä¸ºä¸ `Partial<Type>` æ°æ°ç›¸åï¼Œå®ƒä¼šå°† `Type` å†…æ‰€æœ‰å±æ€§è½¬æ¢ä¸ºå¿…é¡»ç±»å‹ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œå³â€œæˆ‘å…¨éƒ½è¦â€
3. `Readonly<Type>` è¡Œä¸ºä¸ `Partial<Type>` è¡Œä¸ºç±»ä¼¼ï¼Œå®ƒä¼šå°†æ‰€æœ‰ `Type` å†…çš„å±æ€§è½¬æ¢ä¸º**åªè¯»çš„**ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹
4. `Pick<Type, keys>` é€šè¿‡ä¼ é€’ä¸€ä¸ªé”®çš„é›†åˆï¼Œä»æŒ‡å®šç±»å‹ä¸­å–å‡ºæŒ‡å®šçš„å±æ€§ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹å®šä¹‰ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**é€šè¿‡ `union` æ¥æŒ‡å®šéœ€è¦é€‰æ‹©çš„å±æ€§**
5. `Omit<Type, keys>` è¡Œä¸ºä¸ `Pick<Type, keys>` ç›¸åï¼Œå¯ä»¥ç±»æ¯” `lodash.omit` è¿›è¡Œç†è§£

è¿™é‡Œå±•ç¤º `Pick<Type, keys>` çš„ç®€å•çš„ç¤ºä¾‹ï¼Œ`Omit<Type, keys>` å¯ä»¥ç±»æ¨

```typescript
// Pick
interface Person {
  name: string
  age: number
  isMale?: boolean
}

let a: Pick<Person, 'name' | 'age'> = {
  name: 'lucky',
  age: 27,
  isMale: true, // error: Object literal may only specify known properties, and 'isMale' does not exist in type 'Pick<Person, "name" | "age">'.(2322)
}
```

## Union Related

- `Exclude<Type, Union>` ç›¸å½“äºå¯¹ä¸¤ä¸ªé›†åˆæ±‚**å·®é›†**
- `Extract<Type, union>` ç›¸å½“äºå¯¹ä¸¤ä¸ªé›†åˆæ±‚**äº¤é›†**

è¿™é‡Œå°†åŒ…å« `union` å‚æ•°çš„ utility å½’ä½ä¸€ç±»ï¼Œå®ƒä»¬çš„è¡Œä¸ºç±»ä¼¼å¯¹é›†åˆè¿›è¡Œå¤„ç†ï¼Œåœ¨å¤„ç† `union` ç±»å‹æ—¶èƒ½å¤Ÿæä¾›ä¾¿åˆ©

![union](/img/langs/typescript/union.png)

å‚è€ƒä¸‹é¢è¿™ä¸ªä¾‹å­è¿›è¡Œç†è§£ï¼š

```typescript
// Exclude<unionA, unionB>
type A = 'a' | 'b' | 'c'
type B = 'a' | 'f'

// type C = "b" | "c"
type C = Exclude<A, B>

// error: Type '"a"' is not assignable to type '"b" | "c"'.(2322)
let v1: C = 'a'

// Extract<unionA, unionB>
// type E = "a"
type E = Extract<A, B>

// Type '"b"' is not assignable to type '"a"'.(2322)
let v2: E = 'b'
```

## Function Related

- `Parameters<Type>`
- `ReturnType<Type>`

è¿™é‡Œå°†å‡½æ•°ç±»å‹çš„æ“ä½œå½’ä¸ºä¸€ç±»,ä¸»è¦é’ˆå¯¹å‡½æ•°çš„ä¼ å‚/è¿”å›å€¼è¿›è¡Œå¤„ç†,è¿”å›ç›¸åº”çš„æ•°æ®ç±»å‹

![function](/img/langs/typescript/function.png)

1. `Parameters<Type>` è·å–å‡½æ•°æ‰€æœ‰çš„ä¼ å‚, å¹¶è¿”å›ä¸€ä¸ªå…ƒç»„(tuple)
2. `ReturnType<Type>` è·å–å‡½æ•°çš„è¿”å›å€¼ç±»å‹, è¿”å›

å‚è€ƒä¸‹é¢çš„ä¾‹å­æ¥è¿›è¡Œç†è§£:

```typescript
declare function f1(p: number, q: string): { a: number; b: string }

// è¿™é‡Œæ³¨æ„ä½¿ç”¨ typeof æ¥è·å–å…¶ç±»å‹
// ç”Ÿæˆä¸€ä¸ªå…ƒç»„ç±»å‹: [p: number, q: string]
type ParamsType = Parameters<typeof f1>

// success
const p1: ParamsType = [1, 'a']

// Type 'number' is not assignable to type 'string'.(2322)
const p2: ParamsType = [1, 2]

// ReturnType: æ•è·è¿”å›å€¼ç±»å‹
type ReturnParams = ReturnType<typeof f1>

// success
const r1: ReturnParams = {
  a: 1,
  b: 'hello',
}

// The expected type comes from property 'b' which is declared here on type '{ a: number; b: string; }'
const r2: ReturnParams = {
  a: 1,
  b: 2,
}
```

## Interesting Utility

è¿˜æœ‰ä¸€äº› Uitlity æ‹¥æœ‰ä¸€äº›â€œæœ‰è¶£â€çš„è¡Œä¸º,è¿™é‡Œå°†å®ƒä»¬å½’ä¸ºä¸€ç±»:

- `Record<Keys, Type>`
- `NonNullable<Type>`: å°±æ˜¯ä¿è¯ç±»å‹å†…ä¸å­˜åœ¨ `null` å’Œ `undefined`

`Record<Keys, Type>` ç”¨äºå°†æ¯ä¸ª Key å†…å¯¹åº”åˆ°æŒ‡å®š Type, å‚è€ƒä¸‹é¢çš„ä¾‹å­æ¥è¿›è¡Œç†è§£:

```typescript
interface Person {
  name: string
}

type Names = 'Kitty' | 'Nik'

const nav: Record<Names, Person> = {
  Kitty: { name: 'kitty' },
  Nik: { name: 'nik' },
}
```
