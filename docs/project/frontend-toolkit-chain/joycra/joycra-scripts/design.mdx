---
id: design
title: 'Design Mind'
sidebar_label: Design Mind
---

import { HighlightWithText } from '/src/components/Highlights'

参考 create-react-app 和 Vite，joycra-scripts 最终取两家之长：
- CRA 的处理流程
- Vite 对于 ESM 的使用，包括 rollup + TypeScript 

## 处理流程

这里我们对创建项目的思路进行详细记录：

<HighlightWithText text="准备阶段" />{' '}

- 检查用户 Node.js 运行版本
- joycra-scripts 渲染 logo
- 确认用户输入的**应用名**

<HighlightWithText text="检查阶段" />{' '}

- 对用户输入的应用名合法性进行校验
- 对目录、目录下文件进行检测以确认能够安全创建我们的项目依赖

<HighlightWithText text="生成阶段" />{' '}

- 根据用户输入，重构 package.json
- 将 template 拷贝至用户目录下

<HighlightWithText text="安装阶段" />{' '}

- 进入新建的应用目录
- 选择包管理工具来安装依赖
- 执行 `vite dev` 启动服务

## 集成思路

对于 Joycra 来说，我们实际上是由 Joycra “母体”项目和 joycra-scripts cli 项目组成

joycra 项目进化的来源：业务开发思考、沉淀 + 社区功能更新

在 joycra-scripts 内，通过 `migrate + template.json` 的模式，我们会根据 `joycra-scripts.template.json` 的规则从“母体”项目中生成模版，放到 `joycra-scripts.template/` 目录下，在发布时，会将 template 文件一起上传。
