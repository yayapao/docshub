---
id: judgement
title: How to judge a runtime app?
sidebar_label: Judgement
---

我们如何衡量应用在运行时的状态？更进一步，如何从开发到上线的全生命周期来评价应用？

对这个问题，我设计了如下场景：

- 某时间段内（多个时间段内），同一用户在应用同一（不同）页面产生了大量报错（资源超时请求）
- 某时间段内（多个时间段内），大批用户在应用同一（不同）页面产生了大量报错（资源超时请求）



## 案例分析

### TC RUM

![sentry-architure](/img/fte/t_rum_judge.png)

腾讯云从 page -> application 的思路来评价应用，关注点在于：
- 页面报错率
- 首屏耗时
- 接口状态
- 资源加载

分析：缺少用户维度，缺乏对用户影响的关注

### Sentry Transaction

Sentry 将从页面交互（transaction）的粒度来对应用的状态进行衡量

#### Apdex

根据一段时间内 tranaction 的响应时间来衡量用户对应用的满意度，其计算规则：
- T: 目标阈值，用户自己设置
- Satisfactory: <= T
- Tolerable: T <= 4T
- Frustrated: > 4T

Apedx = (满意的数量 + 0.5 * 可以忍受的数量) / 请求总数

#### Failure Rate

用来预测页面交互的失败率。

#### Thoughput

指定时间段内的对应步长的页面平均交互次数，比如 TPM, TPS
